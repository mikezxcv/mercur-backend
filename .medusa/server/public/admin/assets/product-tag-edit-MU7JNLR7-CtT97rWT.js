import{K as j}from"./chunk-6HTZNHPT-BHsf02UK.js";import{b as e,u as f}from"./chunk-AERWK3TJ-2NOSGJWi.js";import{ar as p,at as g,ac as v,b as h,fR as T,j as s,H as y,ay as b,az as P,fS as E,t as m,X as t,Y as F,B as x}from"./index-Bxfpjf1r.js";var S=p({value:g().min(1)}),w=({productTag:o})=>{const{t:a}=h(),{handleSuccess:n}=f(),r=b({defaultValues:{value:o.value},resolver:P(S)}),{mutateAsync:l,isPending:c}=E(o.id),i=r.handleSubmit(async d=>{await l(d,{onSuccess:({product_tag:u})=>{m.success(a("productTags.edit.successToast",{value:u.value})),n()},onError:u=>{m.error(u.message)}})});return s.jsx(e.Form,{form:r,children:s.jsxs(j,{className:"flex size-full flex-col overflow-hidden",onSubmit:i,children:[s.jsx(e.Body,{className:"flex flex-1 flex-col overflow-auto",children:s.jsx(t.Field,{control:r.control,name:"value",render:({field:d})=>s.jsxs(t.Item,{children:[s.jsx(t.Label,{children:a("productTags.fields.value")}),s.jsx(t.Control,{children:s.jsx(F,{...d})}),s.jsx(t.ErrorMessage,{})]})})}),s.jsx(e.Footer,{children:s.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[s.jsx(e.Close,{asChild:!0,children:s.jsx(x,{variant:"secondary",size:"small",type:"button",children:a("actions.cancel")})}),s.jsx(x,{size:"small",type:"submit",isLoading:c,children:a("actions.save")})]})})]})})},R=()=>{const{id:o}=v(),{t:a}=h(),{product_tag:n,isPending:r,isError:l,error:c}=T(o),i=!r&&!!n;if(l)throw c;return s.jsxs(e,{children:[s.jsxs(e.Header,{children:[s.jsx(e.Title,{asChild:!0,children:s.jsx(y,{children:a("productTags.edit.header")})}),s.jsx(e.Description,{className:"sr-only",children:a("productTags.edit.subtitle")})]}),i&&s.jsx(w,{productTag:n})]})};export{R as Component};
